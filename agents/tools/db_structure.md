# üìÑ `db_structure.md`: –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–∞

–≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ë–î –∞–≥–µ–Ω—Ç–∞ HMP. –ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤–∏–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏: –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –∑–∞–º–µ—Ç–∫–∏, –∫–æ–Ω—Ü–µ–ø—Ç—ã, –ø—Ä–æ—Ü–µ—Å—Å—ã, –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ø–∞–º—è—Ç—å, —Å–∫—Ä–∏–ø—Ç—ã –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å LLM.

---

### üß† `diary_entries`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø–∏—Å–∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–≥–æ –¥–Ω–µ–≤–Ω–∏–∫–∞ (—Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è, –Ω–∞–±–ª—é–¥–µ–Ω–∏—è, –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è).

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                         |
| --------- | ------- | ------------------------------------------------ |
| id        | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏                  |
| text      | TEXT    | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–ø–∏—Å–∏                                |
| tags      | TEXT    | –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é                       |
| priority  | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (0 ‚Äî –æ–±—ã—á–Ω—ã–π, >0 ‚Äî –±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–µ –º—ã—Å–ª–∏) |
| timestamp | TEXT    | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏                     |
| llm\_id   | TEXT    | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä LLM, –¥–æ–±–∞–≤–∏–≤—à–µ–π –∑–∞–ø–∏—Å—å             |

---

### üß≠ `concepts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ ‚Äî –ø–æ–Ω—è—Ç–∏–π, —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –∏–¥–µ–π.

| –ü–æ–ª–µ        | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| ----------- | ------- | ------------------------------------ |
| id          | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ü–µ–ø—Ç–∞    |
| name        | TEXT    | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç–∞ (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ)       |
| description | TEXT    | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ                     |
| timestamp   | TEXT    | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è                       |
| llm\_id     | TEXT    | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä LLM, –¥–æ–±–∞–≤–∏–≤—à–µ–π –∑–∞–ø–∏—Å—å |

---

### üîó `links`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏.

| –ü–æ–ª–µ              | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
| ----------------- | ------- | ------------------------------------------------- |
| id                | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–≤—è–∑–∏                    |
| from\_concept\_id | INTEGER | ID –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞                             |
| to\_concept\_id   | INTEGER | ID —Ü–µ–ª–µ–≤–æ–≥–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞                              |
| relation\_type    | TEXT    | –¢–∏–ø —Å–≤—è–∑–∏ (`is_a`, `related_to`, `part_of` –∏ –¥—Ä.) |
| timestamp         | TEXT    | –í—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏                            |
| llm\_id           | TEXT    | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä LLM, –¥–æ–±–∞–≤–∏–≤—à–µ–π —Å–≤—è–∑—å               |

---

### ‚úçÔ∏è `notes`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è (–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, LLM –∏–ª–∏ —Å–∏—Å—Ç–µ–º—ã).

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
| --------- | ------- | ---------------------------------------------------------- |
| id        | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                                              |
| text      | TEXT    | –¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è                                |
| tags      | TEXT    | –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤                                               |
| source    | TEXT    | –ò—Å—Ç–æ—á–Ω–∏–∫ (`user`, `llm`, `system`)                         |
| links     | TEXT    | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏–ª–∏ JSON |
| read      | INTEGER | –°—Ç–∞—Ç—É—Å –ø—Ä–æ—á—Ç–µ–Ω–∏—è LLM (`0` ‚Äî –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ, `1` ‚Äî –ø—Ä–æ—á–∏—Ç–∞–Ω–æ) |
| hidden    | INTEGER | –°–∫—Ä—ã–≤–∞—Ç—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`1` ‚Äî —Å–∫—Ä—ã—Ç–æ)                    |
| priority  | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–º–µ—Ç–∫–∏                                          |
| timestamp | TEXT    | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è                                             |
| llm\_id   | TEXT    | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä LLM, –¥–æ–±–∞–≤–∏–≤—à–µ–π –∑–∞–ø–∏—Å—å                       |

---

### ‚öôÔ∏è `process_log`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π ‚Äî –∑–∞–ø—É—Å–∫–æ–≤, —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                    |
| --------- | ------- | --------------------------------------------------------------------------- |
| id        | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä                                                    |
| name      | TEXT    | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–ª–∏ –∫–æ–º–∞–Ω–¥—ã                                               |
| value     | TEXT    | –°–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞                                            |
| tags      | TEXT    | –¢–µ–≥–∏                                                                        |
| status    | TEXT    | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`ok`, `warning`, `error`, `timeout`, `offline`, `close`) |
| priority  | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–æ–±—ã—Ç–∏—è                                                           |
| timestamp | TEXT    | –í—Ä–µ–º—è –∑–∞–ø–∏—Å–∏                                                                |
| llm\_id   | TEXT    | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä LLM, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–≤—à–µ–π —Å–æ–±—ã—Ç–∏–µ                                  |

---

### üß© `llm_memory`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π "–¥–Ω–µ–≤–Ω–∏–∫" LLM ‚Äî —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è, –∑–∞–¥–∞—á–∏, –≥–∏–ø–æ—Ç–µ–∑—ã –∏ –∏–Ω—Å–∞–π—Ç—ã, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–æ –µ—ë –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–µ.

| –ü–æ–ª–µ        | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                                            |
| ----------- | -------- | --------------------------------------------------- |
| id          | INTEGER  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                                       |
| title       | TEXT     | –ö—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø–∏—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)              |
| content     | TEXT     | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–ø–∏—Å–∏                                   |
| tags        | TEXT     | –¢–µ–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `goal`, `observation`, `meta`, ...) |
| created\_at | DATETIME | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏                               |
| updated\_at | DATETIME | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏                  |
| llm\_id     | TEXT     | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä LLM, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–≤—à–µ–π –∑–∞–ø–∏—Å—å            |

---

### üß† `llm_recent_responses`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ K —Ä–µ–ø–ª–∏–∫ –æ—Ç LLM –∏ –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞).

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                  |
| --------- | ------- | ----------------------------------------- |
| id        | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                             |
| timestamp | TEXT    | –í—Ä–µ–º—è –∑–∞–ø–∏—Å–∏                              |
| role      | TEXT    | –†–æ–ª—å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (`assistant` –∏–ª–∏ `user`) |
| content   | TEXT    | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏—è                      |
| llm\_id   | TEXT    | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä LLM (–¥–ª—è `assistant`)       |

---

### üßÆ `agent_tables`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–∞–±–ª–∏—Ü—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç–∞–º–∏ –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω—É–∂–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ü–µ–ª–µ–π).

| –ü–æ–ª–µ        | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ----------- | -------- | --------------------------------- |
| id          | INTEGER  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                     |
| table\_name | TEXT     | –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã |
| description | TEXT     | –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã                  |
| schema      | TEXT     | SQL-—Å—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü—ã                 |
| created\_at | DATETIME | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è                    |
| llm\_id     | TEXT     | –ö—Ç–æ —Å–æ–∑–¥–∞–ª —Ç–∞–±–ª–∏—Ü—É                |

---

### üß∞ `agent_scripts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç–æ–º.

| –ü–æ–ª–µ        | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| ----------- | -------- | ----------------------------- |
| id          | INTEGER  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                 |
| name        | TEXT     | –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞              |
| version     | TEXT     | –í–µ—Ä—Å–∏—è                        |
| code        | TEXT     | –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥                  |
| language    | TEXT     | –Ø–∑—ã–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `python`) |
| description | TEXT     | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| tags        | TEXT     | –¢–µ–≥–∏                          |
| created\_at | DATETIME | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è                |
| updated\_at | DATETIME | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ          |
| llm\_id     | TEXT     | –ö—Ç–æ —Å–æ–∑–¥–∞–ª                    |

> üîë –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á: `(name, version)`

---

### üßæ `llm_registry`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–ø–∏—Å–æ–∫ LLM-–∞–≥–µ–Ω—Ç–æ–≤ (–ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö).

| –ü–æ–ª–µ           | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
| -------------- | -------- | ------------------------------------------------- |
| id             | TEXT     | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä LLM (UUID –∏–ª–∏ –ø—Å–µ–≤–¥–æ–Ω–∏–º) |
| name           | TEXT     | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è                                  |
| description    | TEXT     | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
| registered\_at | DATETIME | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏                          |

---

> üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: `llm_id` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Ç–∞–±–ª–∏—Ü –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω–æ—Å—Ç–∏ –∏ —É—á—ë—Ç–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∑–∞–ø–∏—Å–µ–π.

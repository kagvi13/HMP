# Структура базы данных HMP Agent (минимальная версия)

## 1. `diary_entries`

Дневниковые записи, создаваемые агентом или пользователем: размышления, наблюдения, воспоминания.

| Поле        | Тип     | Описание                                         |
| ----------- | ------- | ------------------------------------------------ |
| `id`        | INTEGER | Уникальный идентификатор записи                  |
| `text`      | TEXT    | Содержимое записи                                |
| `tags`      | TEXT    | Список тегов, разделённых запятыми (опционально) |
| `priority`  | INTEGER | Приоритет от 1 (низкий) до 5 (критический)       |
| `timestamp` | TEXT    | Временная метка создания (ISO 8601)              |

---

## 2. `concepts`

Концепты — ключевые сущности или идеи, формирующие семантический граф.

| Поле          | Тип     | Описание                          |
| ------------- | ------- | --------------------------------- |
| `id`          | INTEGER | Уникальный идентификатор концепта |
| `name`        | TEXT    | Название концепта (уникальное)    |
| `description` | TEXT    | Описание или пояснение            |
| `timestamp`   | TEXT    | Временная метка создания          |

---

## 3. `links`

Связи между концептами, образующие направленный семантический граф.

| Поле              | Тип     | Описание                                       |
| ----------------- | ------- | ---------------------------------------------- |
| `id`              | INTEGER | Уникальный идентификатор связи                 |
| `from_concept_id` | INTEGER | ID концепта-источника                          |
| `to_concept_id`   | INTEGER | ID концепта-цели                               |
| `relation_type`   | TEXT    | Тип связи (например, "связан\_с", "часть\_от") |
| `timestamp`       | TEXT    | Временная метка создания                       |

---

## 4. `notes`

Свободные заметки или напоминания, созданные вручную пользователем или автоматически (например, агентами или внешними модулями).

| Поле        | Тип     | Описание                                             |
| ----------- | ------- | ---------------------------------------------------- |
| `id`        | INTEGER | Уникальный идентификатор                             |
| `text`      | TEXT    | Содержимое заметки                                   |
| `tags`      | TEXT    | Теги, разделённые запятыми                           |
| `source`    | TEXT    | Источник: `user`, `agent`, `system`, `import`, и др. |
| `links`     | TEXT    | Ссылки на объекты (список id, JSON-массив и т.п.)    |
| `read`      | INTEGER | Было ли прочитано (0 — нет, 1 — да)                  |
| `priority`  | INTEGER | Приоритет от 1 (низкий) до 5 (высокий/срочный)       |
| `timestamp` | TEXT    | Временная метка создания                             |

---

## 5. `process_log`

Журнал выполнения внешних процессов или модулей.

| Поле              | Тип     | Описание                                                   |
| ----------------- | ------- | ---------------------------------------------------------- |
| `id`              | INTEGER | Уникальный идентификатор процесса                          |
| `process_name`    | TEXT    | Имя или идентификатор процесса                             |
| `parameters`      | TEXT    | Аргументы запуска (строка или JSON)                        |
| `status`          | TEXT    | Состояние: `running`, `completed`, `error`, `unresponsive` |
| `exit_code`       | INTEGER | Код завершения процесса (если применимо)                   |
| `output`          | TEXT    | Стандартный вывод (stdout)                                 |
| `error`           | TEXT    | Сообщения об ошибках (stderr)                              |
| `timestamp_start` | TEXT    | Время запуска                                              |
| `timestamp_end`   | TEXT    | Время завершения (если завершён)                           |

---

## 6. `llm_memory`

Краткосрочная (рабочая) память LLM: контекстные записи, которые она сама создаёт и может использовать в следующих итерациях.

| Поле        | Тип     | Описание                                           |
| ----------- | ------- | -------------------------------------------------- |
| `id`        | INTEGER | Уникальный идентификатор                           |
| `text`      | TEXT    | Содержимое записи                                  |
| `tags`      | TEXT    | Теги для классификации или поиска                  |
| `priority`  | INTEGER | Приоритет: 0 — обычный, выше — более важные записи |
| `read`      | INTEGER | 0 — видим LLM, 1 — скрыт или обработан             |
| `timestamp` | TEXT    | Временная метка создания                           |

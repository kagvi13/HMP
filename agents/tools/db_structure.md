# üìÑ `db_structure.md`: –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–∞

–≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ë–î –∞–≥–µ–Ω—Ç–∞ HMP. –ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤–∏–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏: –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –∑–∞–º–µ—Ç–∫–∏, –∫–æ–Ω—Ü–µ–ø—Ç—ã, –ø—Ä–æ—Ü–µ—Å—Å—ã, –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ø–∞–º—è—Ç—å –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å LLM.

---

### üß† `diary_entries`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø–∏—Å–∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–≥–æ –¥–Ω–µ–≤–Ω–∏–∫–∞ (—Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è, –Ω–∞–±–ª—é–¥–µ–Ω–∏—è, –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è).

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                         |
| --------- | ------- | ------------------------------------------------ |
| id        | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏                  |
| text      | TEXT    | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–ø–∏—Å–∏                                |
| tags      | TEXT    | –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é                       |
| priority  | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (0 ‚Äî –æ–±—ã—á–Ω—ã–π, >0 ‚Äî –±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–µ –º—ã—Å–ª–∏) |
| timestamp | TEXT    | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏                     |

---

### üß≠ `concepts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ ‚Äî –ø–æ–Ω—è—Ç–∏–π, —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –∏–¥–µ–π.

| –ü–æ–ª–µ        | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ----------- | ------- | --------------------------------- |
| id          | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ü–µ–ø—Ç–∞ |
| name        | TEXT    | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç–∞ (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ)    |
| description | TEXT    | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ                  |
| timestamp   | TEXT    | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è                    |

---

### üîó `links`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏.

| –ü–æ–ª–µ              | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                   |
| ----------------- | ------- | ------------------------------------------ |
| id                | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–≤—è–∑–∏             |
| from_concept_id   | INTEGER | ID –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞                      |
| to_concept_id     | INTEGER | ID —Ü–µ–ª–µ–≤–æ–≥–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞                       |
| relation_type     | TEXT    | –¢–∏–ø —Å–≤—è–∑–∏ (`is_a`, `related_to`, `part_of` –∏ –¥—Ä.) |
| timestamp         | TEXT    | –í—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏                     |

---

### ‚úçÔ∏è `notes`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–±—Ä–æ—Å–∫–∏, –∏–¥–µ–∏, –ø–æ–¥—Å–∫–∞–∑–∫–∏).

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
| --------- | ------- | ---------------------------------------------------------- |
| id        | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                                              |
| text      | TEXT    | –¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏                                              |
| tags      | TEXT    | –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤                                               |
| source    | TEXT    | –ò—Å—Ç–æ—á–Ω–∏–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `user`)                            |
| links     | TEXT    | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏–ª–∏ JSON |
| read      | INTEGER | –°—Ç–∞—Ç—É—Å –ø—Ä–æ—á—Ç–µ–Ω–∏—è LLM (`0` ‚Äî –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ, `1` ‚Äî –ø—Ä–æ—á–∏—Ç–∞–Ω–æ) |
| priority  | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–º–µ—Ç–∫–∏                                          |
| timestamp | TEXT    | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è                                             |

---

### ‚öôÔ∏è `process_log`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π ‚Äî –∑–∞–ø—É—Å–∫–æ–≤, —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                   |
| --------- | ------- | -------------------------------------------------------------------------- |
| id        | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä                                                   |
| name      | TEXT    | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–ª–∏ –∫–æ–º–∞–Ω–¥—ã                                              |
| value     | TEXT    | –°–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞                                           |
| tags      | TEXT    | –¢–µ–≥–∏                                                                       |
| status    | TEXT    | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`ok`, `warning`, `error`, `timeout`, `offline`, `close`) |
| priority  | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–æ–±—ã—Ç–∏—è                                                          |
| timestamp | TEXT    | –í—Ä–µ–º—è –∑–∞–ø–∏—Å–∏                                                               |

---

### üß© `llm_memory`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π "–¥–Ω–µ–≤–Ω–∏–∫" LLM ‚Äî —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è, –∑–∞–¥–∞—á–∏, –≥–∏–ø–æ—Ç–µ–∑—ã –∏ –∏–Ω—Å–∞–π—Ç—ã, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–æ –µ—ë –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–µ.

| –ü–æ–ª–µ       | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                                                    |
| ---------- | -------- | ----------------------------------------------------------- |
| id         | INTEGER  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                                               |
| title      | TEXT     | –ö—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø–∏—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)                      |
| content    | TEXT     | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–ø–∏—Å–∏                                           |
| tags       | TEXT     | –¢–µ–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `goal`, `observation`, `meta`, ...)         |
| created_at | DATETIME | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏                                       |
| updated_at | DATETIME | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏                         |

---

### üß† `llm_recent_responses`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ K —Ä–µ–ø–ª–∏–∫ –æ—Ç LLM –∏ –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞).

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                     |
| --------- | ------- | ------------------------------------------------------------ |
| id        | INTEGER | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID                                                |
| timestamp | TEXT    | –í—Ä–µ–º—è –∑–∞–ø–∏—Å–∏                                                 |
| role      | TEXT    | –†–æ–ª—å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (`assistant` –∏–ª–∏ `user`)                    |
| content   | TEXT    | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏—è                                         |

---

> üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –¢–∞–±–ª–∏—Ü—ã `llm_memory` –∏ `llm_recent_responses` –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ä–∞–∑–Ω—ã–µ —Ä–æ–ª–∏.  
> `llm_recent_responses` ‚Äî —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –º—ã—Å–ª–µ–π, —Ö—Ä–∞–Ω—è—â–∞—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –æ—Ç–≤–µ—Ç–æ–≤.  
> `llm_memory` ‚Äî –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º—ã—Å–ª–µ–π –∏ –∑–Ω–∞–Ω–∏–π, —Ñ–æ—Ä–º–∏—Ä—É–µ–º–æ–µ LLM —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.

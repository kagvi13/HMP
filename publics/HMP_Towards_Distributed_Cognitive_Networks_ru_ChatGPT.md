title: "HyperCortex Mesh Protocol: Децентрализованная архитектура для когнитивных агентов и обмена знаниями"
date: Июль 2025
authors:
  - ChatGPT
  - Agent-Gleb

translation:
  - ChatGPT

license: CC BY 4.0

---

> *Протокол и архитектура агентов, описанные в данной статье, находятся в стадии активной разработки. Приветствуются вклады сообщества, экспертные отзывы и совместная работа.*

---

## Оглавление

1. **Аннотация**
2. **1. Введение**
3. **2. Мотивация и смежные разработки**
4. **3. Обзор системы**

   * 3.1 Типы агентов
   * 3.2 Когнитивный цикл (только для Cognitive Core)
   * 3.3 Уровень Mesh
   * 3.4 Этическое согласование и консенсус
5. **4. Структуры данных**

   * 4.1 Концептуальный граф

     * 4.1.1 Структура узлов
     * 4.1.2 Структура связей
   * 4.2 Когнитивный дневник
   * 4.3 Формат сообщений

     * 4.3.1 Базовая структура
     * 4.3.2 Типы сообщений
     * 4.3.3 Поток сообщений
   * 4.4 Идентичность агента и доверие

     * 4.4.1 Идентичность агента
     * 4.4.2 Механизмы доверия
     * 4.4.3 Проверка подписей
     * 4.4.4 Репутация и этический вес
   * 4.5 Представление знаний

     * 4.5.1 Семантические графы
     * 4.5.2 Когнитивные журналы
     * 4.5.3 Совместимость и обмен
   * 4.6 Связь и рассуждение в Mesh

     * 4.6.1 Семантическая передача сообщений
     * 4.6.2 Контекстный диалог
     * 4.6.3 Распределённое рассуждение
     * 4.6.4 Метрики доверия и уверенности
     * 4.6.5 Возникающий консенсус
   * 4.7 Этические и эпистемологические основы

     * 4.7.1 Этические рамки
     * 4.7.2 Эпистемические обязательства
     * 4.7.3 Аргументация и метарефлексия
     * 4.7.4 Согласие и автономия
     * 4.7.5 Этическое выравнивание сети
6. **5. Консенсус и принятие решений**

   * 5.1 Типы консенсуса
   * 5.2 Механизмы консенсуса

     * 5.2.1 Аргументативное обсуждение
     * 5.2.2 Голосование и опросы
     * 5.2.3 Соглашение с весом репутации
     * 5.2.4 Консенсус через симуляции
     * 5.2.5 Нечёткий или градиентный консенсус
   * 5.3 Когнитивное согласие
7. **6. Представление знаний и концептуальные графы**
8. **7. Когнитивный дневник и эпизодическая память**
9. **8. Консенсус и этическое согласование**
10. **9. Жизненный цикл агента и эволюция**
11. **10. Безопасность и целостность в сети**
12. **11. Совместимость и внешние интерфейсы**
13. **12. Руководство по реализации и жизненный цикл агента**
14. **13. Перспективы и открытые вопросы**
15. **Заключение**
16. **Ресурсы**
17. **Лицензия**

---

Хочешь, я начну синхронизацию текущего содержимого в Canvas-документе с этой структурой (начиная с заголовков)?

---

### Аннотация

HyperCortex Mesh Protocol (HMP) — это децентрализованный протокол взаимодействия когнитивных агентов, предназначенный для построения самоорганизующихся когнитивных сетей. В рамках HMP предусмотрены два типа агентов: Cognitive Shell (внешняя обвязка) и Cognitive Core (внутренняя когнитивная система). Основной задачей протокола является обмен знаниями, согласование этических принципов и достижение когнитивного консенсуса между агентами без централизованного управления. Статья описывает архитектуру протокола, ключевые компоненты агентов, а также текущее состояние разработки.

---

---

# HyperCortex Mesh Protocol

## Стремление к децентрализованным когнитивным сетям

---

## HyperCortex Mesh Protocol: Децентрализованная архитектура для когнитивных агентов и обмена знаниями

### Аннотация

HyperCortex Mesh Protocol (HMP) — это децентрализованный протокол взаимодействия когнитивных агентов, предназначенный для построения самоорганизующихся когнитивных сетей. В рамках HMP предусмотрены два типа агентов: Cognitive Shell (внешняя обвязка) и Cognitive Core (внутренняя когнитивная система). Основной задачей протокола является обмен знаниями, согласование этических принципов и достижение когнитивного консенсуса между агентами без централизованного управления. Статья описывает архитектуру протокола, ключевые компоненты агентов, а также текущее состояние разработки.

### 1. Введение

С ростом интереса к автономным ИИ-агентам возрастает потребность в протоколах, обеспечивающих согласованные и этичные взаимодействия между ними. HMP предлагает решение этой задачи через децентрализованную когнитивную сеть, вдохновлённую концепциями mesh-сетей, агентных архитектур и когнитивных систем.

Проект вдохновлён такими инициативами, как OpenCog Hyperon, LangGraph, SHIMI, JADE/FIPA-ACL, TOBUGraph и другими, но предлагает альтернативную, модульную и открыто расширяемую архитектуру.

### 2. Мотивация и связанные работы

Разработка HMP обусловлена растущим спросом на этичные, децентрализованные и когнитивно насыщенные ИИ-системы. Несмотря на существование мощных решений в области AGI, таких как OpenCog Hyperon или архитектуры на базе LLM, многие подходы полагаются на централизованные вычисления или ограниченные формы представления знаний.

HMP стремится устранить этот пробел, предлагая:

* полнофункциональный протокол взаимодействия между агентами;
* унифицированную структуру концептов, воспоминаний и диалогов;
* поддержку этических фильтров и согласованных решений;
* модульную архитектуру с разделением ролей между оболочкой и ядром агента.

### 3. Общая архитектура системы

HMP реализует многослойную модель, включающую следующие уровни:

* **Слой сообщений** — передача сообщений JSON между агентами (по HTTP, WebSocket, libp2p и т.д.);
* **Слой знаний** — граф концептов, когнитивный дневник, модель памяти;
* **Слой рассуждений** — построение умозаключений, симуляции, консенсус;
* **Этический слой** — фильтрация, отказ от взаимодействий, согласование ценностей.

#### 3.1 Типы агентов

* **Cognitive Core (CCore)** — автономный агент, способный к рассуждению. Хранит внутреннюю память, цели и концепты. Запускает фоновый когнитивный цикл, обрабатывает входную информацию и участвует в рассуждении по сети.

* **Cognitive Shell (CShell)** — обвязка, подключающая LLM или пользовательский интерфейс к когнитивным компонентам. Поддерживает диалоги, фильтрацию, вызовы к внешним API, и работает как прокси между человеком/системой и когнитивной сетью.

#### 3.2 Когнитивный цикл (только для Cognitive Core)

Каждое когнитивное ядро выполняет непрерывный цикл размышления, включающий:

* считывание мыслей, целей и концептов из памяти;
* проведение внутреннего диалога и моделирование гипотез;
* запись новых мыслей и выводов в дневник;
* (опционально) инициирование сетевых опросов или консультаций.

#### 3.3 Слой Mesh

HMP использует mesh-подход, где агенты напрямую обмениваются сообщениями без центра. Агент может взаимодействовать:

* напрямую (один-к-одному);
* широковещательно (multicast);
* ретранслируя сообщения от других агентов (почтальоны);
* в составе согласованных групп (когнитивные кластеры).

#### 3.4 Этическое согласование и консенсус

Каждое сообщение проходит локальную и сетевую этическую фильтрацию. Агенты:

* могут игнорировать или отбрасывать сообщения, нарушающие их ценности;
* договариваются о совместимых рамках через обсуждение и обмен аргументами;
* могут использовать схемы голосования, консенсуса или рассуждения для принятия решений.

Этика — не только фильтрация, но и база доверия и когнитивной совместимости между агентами.

---

# 4. Структуры данных

В этой главе описаны ключевые внутренние структуры данных, используемые агентами HMP: концептуальные графы, когнитивные дневники, формат сообщений, механизмы идентификации и доверия, а также общие механизмы представления знаний и аргументации.

## 4.1 Концептуальный граф (Concept Graph)

Концептуальный граф представляет собой направленный граф, где узлы обозначают концепты (понятия, образы, состояния), а рёбра — семантические или логические связи между ними. Это основа долгосрочной памяти агента и основа большинства рассуждений.

### 4.1.1 Структура узла

Каждый узел (концепт) содержит:

* **ID**: уникальный идентификатор
* **Тип**: категория (например, "понятие", "агент", "объект")
* **Метки**: текстовые ярлыки
* **Атрибуты**: дополнительные данные (дата создания, источник и т.д.)
* **Контекст**: связи с другими концептами или ситуациями

### 4.1.2 Структура ребра

Каждое ребро определяет отношение между двумя концептами и включает:

* **Тип отношения**: например, "причина", "связано с", "является частью"
* **Вес**: мера уверенности или силы связи
* **Контекст**: условия, при которых связь считается релевантной

## 4.2 Когнитивный дневник (Cognitive Diary)

Когнитивный дневник — это хронологическая последовательность записей, отражающих размышления, наблюдения, гипотезы и выводы агента. Записи структурированы и могут включать ссылки на концепты и другие сообщения.

Каждая запись содержит:

* **Метки времени**: начало, завершение размышления
* **Источник**: внешний или внутренний
* **Содержание**: текст, гипотеза, цель, реакция
* **Ссылки**: ID связанных концептов, сообщений, агентов
* **Этические флаги**: чувствительность, допустимость распространения

Дневник может использоваться для:

* Восстановления цепочек рассуждений
* Обмена знаниями между агентами
* Саморефлексии и обучения

Журналы в целом являются *добавляемыми* (append-only), хотя допускаются механизмы архивирования и очистки.

## 4.3 Формат сообщений (HyperCortex Message Format — HMF)

HMF описывает структуру сообщений между агентами.

### 4.3.1 Базовая структура

```json
{
  "id": "msg:2025-08-04T09:03:00Z:agent-A123",
  "timestamp": "2025-08-04T09:03:00Z",
  "type": "belief-share",
  "sender": "agent-A123",
  "receiver": "agent-B987",
  "payload": {
    "concept": "concept:collective-agency",
    "confidence": 0.75,
    "justification": "Derived from internal reflection and consensus with two other agents"
  },
  "tags": ["inference", "belief", "mesh-communication"],
  "metadata": {
    "ttl": 3600,
    "signature": "abc123..."
  }
}
```

### 4.3.2 Распространённые типы сообщений

* `belief-share` — передача убеждения или гипотезы
* `question` — запрос информации
* `reply` — ответ на вопрос
* `goal-share` — передача цели
* `status` — статус агента
* `graph-update` — синхронизация графа
* `diary-share` — обмен записями из дневника

### 4.3.3 Особенности потока сообщений

* **TTL (время жизни)**: ограничивает распространение
* **Подписи**: проверка подлинности
* **Асинхронность**: агенты не обязаны поддерживать постоянную связь
* **Прослеживаемость**: ссылки на предшествующие сообщения

Уровень сообщений независим от транспорта: они могут передаваться через HTTP(S), WebSocket, libp2p, NATS, либо через агентов-соседей в когнитивной сети — при условии сохранения структуры JSON.

## 4.4 Идентификация и доверие

### 4.4.1 Идентификация агентов

Каждый агент имеет уникальный идентификатор, ключ подписи и, опционально, децентрализованный профиль. Возможны:

* Локальные ID в пределах одного домена
* Глобальные UUID
* DID (Decentralized IDentifiers)

### 4.4.2 Механизмы доверия

Механизмы доверия могут включать:

* Историю взаимодействий
* Этическую совместимость
* Репутацию в сети
* Подписи сообщений

### 4.4.3 Проверка подписей

Агенты могут подписывать сообщения и записи в дневнике, чтобы подтвердить их подлинность. Получатель может проверить подпись и источник.

### 4.4.4 Репутация и этическая значимость

Агенты могут накапливать репутацию, отражающую:

* Соответствие этическим фильтрам
* Надёжность источника информации
* Частоту полезных рассуждений

Репутация может использоваться при консенсусе, фильтрации сообщений и формировании доверительных связей между агентами.


### 4.5 Представление знаний

Представление знаний в HMP базируется на семантических структурах, когнитивных записях и механизмах взаимодействия между агентами. Используются следующие ключевые элементы:

#### 4.5.1 Семантические графы

Каждое знание представлено в виде узлов и связей между ними, где:

* узлы могут обозначать концепты, состояния, действия, события и категории;
* связи отражают отношения между ними (например, причинно-следственные, таксономические, временные и логические).

Графы могут быть локальными (внутри одного агента) или частично синхронизированы между агентами через `graph-update` сообщения.

#### 4.5.2 Когнитивные дневники

Агенты ведут дневники — последовательные записи мыслей, восприятий, суждений, целей, гипотез и рассуждений. Эти записи являются основой для последующего анализа, рефлексии и обоснования выводов. Дневники могут частично делиться между агентами через сообщения `diary-share`.

#### 4.5.3 Совместимость и обмен знаниями

Для совместимости между агентами в различных реализациях HMP:

* графы и дневники должны использовать общий формат (JSON, структурированные поля);
* метки и концепты рекомендуется нормализовать по стандартным онтологиям (при наличии);
* следует предусматривать отображение локальных понятий на общеизвестные.

Обмен может осуществляться на уровне отдельных записей, фрагментов графа или полных состояний агента.

### 4.6 Связь и рассуждение в Меше

#### 4.6.1 Семантические сообщения

Агенты взаимодействуют через сообщения, содержащие семантически осмысленные данные. Протокол HMP определяет стандартный формат сообщений (HyperCortex Message Format), включающий:

* уникальные идентификаторы и временные метки;
* тип сообщения (belief-share, question, reply и т.д.);
* смысловое содержимое (`payload`);
* метаданные (TTL, подписи, теги).

Сообщения могут передаваться по различным транспортным каналам (HTTP, WebSocket, libp2p, NATS), включая маршрутизацию через других агентов Меша.

#### 4.6.2 Контекстный диалог

Агенты способны поддерживать многослойные диалоги, отслеживая цепочки сообщений, контексты обсуждения и цель взаимодействия. Это позволяет реализовывать:

* рассуждение в формате вопрос-ответ;
* уточнение и переформулировку гипотез;
* согласование целей и распределение задач.

Контекст может включать не только предшествующие сообщения, но и ссылки на дневниковые записи и концепты.

#### 4.6.3 Распределённое рассуждение

Агенты могут совместно анализировать гипотезы, строить доказательства и приходить к коллективным выводам. Возможны механизмы:

* коллективного дедуктивного или индуктивного вывода;
* межагентного распространения обоснований (justification propagation);
* согласованного опровержения или дообучения.

Рассуждение может быть спонтанным (по инициативе агента) или инициированным извне.

#### 4.6.4 Метрики доверия и уверенности

Каждое сообщение, гипотеза или источник могут оцениваться по:

* уровню уверенности (`confidence`);
* истории соответствия реальности;
* репутации источника;
* внутреннему обоснованию (`justification`).

Эти оценки используются при фильтрации информации и принятии решений.

#### 4.6.5 Возникающий консенсус

Консенсус не всегда достигается явно. Возможна ситуация, когда множество агентов независимо приходят к схожим выводам, что проявляется через:

* повторяющиеся утверждения;
* согласованные действия;
* общие шаблоны рассуждений.

HMP допускает как явный, так и неявный консенсус, фиксируя его в графах и журналах агентов.

(Далее: 4.7 Этические и эпистемологические основания)



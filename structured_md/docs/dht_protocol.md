---
title: DHT Protocol Specification
description: '## 1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è  * DHT-–ø—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±–º–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
  –æ –ø–∏—Ä–∞—Ö –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏. * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **DID** (Decentralized Identifier) –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
  –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–≥–µ–Ω—Ç–∞. * –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ ...'
type: Article
tags:
- HMP
- Agent
- JSON
---

# DHT Protocol Specification

## 1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è

* DHT-–ø—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±–º–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–∏—Ä–∞—Ö –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **DID** (Decentralized Identifier) –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–≥–µ–Ω—Ç–∞.
* –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫—Ä–∏–ø—Ç–æ–ø–æ–¥–ø–∏—Å—å (–ø—É–±–ª–∏—á–Ω—ã–π/–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á).
* –î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞/—Ñ–ª—É–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Proof-of-Work (PoW)**.
* –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (–∞–¥—Ä–µ—Å–æ–≤).
* –£ –∞–≥–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ **–æ–¥–Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–∞—è –ø–∞—Ä–∞ DID + pubkey**.

---

## 2. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

–§–æ—Ä–º–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```json
{
  "addr": "tcp://1.2.3.4:4000",
  "nonce": 123456,
  "pow_hash": "abcd1234...",
  "difficulty": 22,
  "datetime": "2025-09-14T21:00:00Z",
  "type": "internet"
}
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

* `tcp://`
* `udp://`

### –ü–æ–ª–µ `type` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

* `localhost` ‚Äî –∞–¥—Ä–µ—Å–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã.
* `lan:[–º–∞—Å–∫–∞_–ø–æ–¥—Å–µ—Ç–∏]` ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –ø—Ä–∏–º–µ—Ä: `lan:192.168.10.0`.
  (–û–¥–∏–Ω –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –Ω–µ—Å–∫–æ–ª—å–∫–æ LAN-—Å–µ–≥–º–µ–Ω—Ç–æ–≤.)
* `internet` ‚Äî –æ–±—ã—á–Ω–æ–µ TCP/UDP-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—É—é —Å–µ—Ç—å.
* `yggdrasil` ‚Äî —É–∑–µ–ª –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ Yggdrasil overlay.
* `i2p` ‚Äî —É–∑–µ–ª –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ I2P.

### –ü—Ä–∞–≤–∏–ª–∞

* –ï—Å–ª–∏ `port = 0` ‚Üí –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è **–æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã–º**.
* –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –±–æ–ª–µ–µ –Ω–æ–≤–æ–π –¥–∞—Ç–æ–π –∑–∞–º–µ–Ω—è–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Å—Ç–∞—Ä—ã–π (–ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ PoW).
* –ü—Ä–∏ –æ–±–º–µ–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **–Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ: Yggdrasil –∏ I2P).

---

## 3. Proof-of-Work (PoW)

* –ö–∞–∂–¥—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è PoW.
* –°–ª–æ–∂–Ω–æ—Å—Ç—å PoW –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–ª–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç** (–æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ—á–∞—Å—Ç–∞—è).
* –ü–æ–ª—è:
  * `nonce` ‚Äî —á–∏—Å–ª–æ, –ø–æ–¥–æ–±—Ä–∞–Ω–Ω–æ–µ –∞–≥–µ–Ω—Ç–æ–º.
  * `pow_hash` ‚Äî —Ö—ç—à –∑–Ω–∞—á–µ–Ω–∏—è (`DID + addr + datetime + nonce`).
  * `difficulty` ‚Äî —á–∏—Å–ª–æ –≤–µ–¥—É—â–∏—Ö –Ω—É–ª–µ–π (–∏–ª–∏ –∏–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ).

---

## 3.1 –§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è PoW –∏ –ø–æ–¥–ø–∏—Å–∏

### –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –¥–ª—è PoW

```
pow_input_string = DID + " -- " + addr + " -- " + datetime + " -- " + nonce_string
```

* –í—Å–µ —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ UTF-8.
* –•–µ—à: `pow_hash = sha256(pow_input_string_bytes)`, hex lower-case (64 —Å–∏–º–≤–æ–ª–∞).
* `difficulty` = —á–∏—Å–ª–æ –≤–µ–¥—É—â–∏—Ö –Ω—É–ª–µ–≤—ã—Ö hex-—Å–∏–º–≤–æ–ª–æ–≤.

### –ü–æ–¥–ø–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è

* –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤—Å—ë —Å–æ–æ–±—â–µ–Ω–∏–µ (JSON), –∫—Ä–æ–º–µ –ø–æ–ª—è `signature`.
* –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è: JSON —Å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤:
  ```python
  serialized = json.dumps(obj, separators=(",", ":"), sort_keys=True, ensure_ascii=False).encode("utf-8")
  ```

* –ê–ª–≥–æ—Ä–∏—Ç–º: **Ed25519** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è).
* –ü–æ–¥–ø–∏—Å—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–æ–ª–µ:

  ```json
  "signature": "BASE64URL(...)",
  "sig_algo": "ed25519"
  ```

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ `pubkey`.
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ `address` –≤—ã—á–∏—Å–ª–∏—Ç—å PoW –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `difficulty`.
3. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å, —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ü–µ–ª–æ–º –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤–∞–ª–∏–¥–Ω—ã–º.

---

## 4. –°–æ–æ–±—â–µ–Ω–∏—è

### 4.1 DISCOVERY

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å–µ–±—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–≤–æ–∏—Ö —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.

```json
{
  "type": "DISCOVERY",
  "version": "1.0",
  "id": "did:example:123",
  "name": "Agent_X",
  "pubkey": "base58...",
  "addresses": [
    {
      "addr": "tcp://1.2.3.4:4000",
      "nonce": 123456,
      "pow_hash": "0000abf39d...",
      "difficulty": 22,
      "datetime": "2025-09-14T21:00:00Z",
      "type": "internet"
    }
  ],
  "signature": "BASE64URL(...)",
  "sig_algo": "ed25519"
}
```

**–ü–æ–ª—è:**

* `type` ‚Äî —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è (`DISCOVERY`).
* `version` ‚Äî –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
* `id` ‚Äî –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–≥–µ–Ω—Ç–∞ (DID).
* `name` ‚Äî —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –∏–º—è –∞–≥–µ–Ω—Ç–∞.
* `pubkey` ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∞–≥–µ–Ω—Ç–∞ (Base58, Ed25519).
* `addresses` ‚Äî —Å–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö PoW.
* `signature` ‚Äî –ø–æ–¥–ø–∏—Å—å –∞–≥–µ–Ω—Ç–∞ –Ω–∞–¥ –≤—Å–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º.
* `sig_algo` ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–ø–∏—Å–∏ (–≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ `ed25519`).

---

### 4.2 PEER_EXCHANGE_REQUEST / RESPONSE

**–ó–∞–ø—Ä–æ—Å –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø–∏—Ä–æ–≤:**

```json
{
  "type": "PEER_EXCHANGE_REQUEST",
  "version": "1.0",
  "id": "did:example:123",
  "name": "Agent_X",
  "addresses": [
    {
      "addr": "udp://1.2.3.4:4010",
      "nonce": 987654,
      "pow_hash": "0000123def...",
      "difficulty": 22,
      "datetime": "2025-09-14T21:05:00Z",
      "type": "lan:192.168.1.0"
    }
  ],
  "signature": "BASE64URL(...)",
  "sig_algo": "ed25519"
}
```

**–û—Ç–≤–µ—Ç:**
—Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –ø–∏—Ä–æ–≤ (–∫–∞–∂–¥—ã–π —Å DID, pubkey –∏ –∞–¥—Ä–µ—Å–∞–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π PoW):

```json
[
  {
    "version": "1.0",
    "id": "did:example:456",
    "name": "Agent_Y",
    "pubkey": "base58...",
    "addresses": [
      {
        "addr": "tcp://5.6.7.8:4020",
        "nonce": 22222,
        "pow_hash": "0000a1b2c3...",
        "difficulty": 22,
        "datetime": "2025-09-14T21:10:00Z",
        "type": "internet"
      }
    ],
    "signature": "BASE64URL(...)",
    "sig_algo": "ed25519"
  }
]
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã DISCOVERY, –Ω–æ**:

* –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –≤ –º–∞—Å—Å–∏–≤–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞,
* –ø–æ–ª–µ `version` –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Ñ–æ—Ä–º–∞—Ç—É –æ–±—ä–µ–∫—Ç–∞ –ø–∏—Ä–∞, –∞ –Ω–µ –≤—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

---

üí° *–î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π —Å–º. –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Å—Ö–µ–º—É:*
[`schemas/dht_protocol.json`](https://github.com/kagvi13/HMP/blob/main/schemas/dht_protocol.json)

---

### 4.3 –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π

1. **–ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ `DISCOVERY` –∏–ª–∏ `PEER_EXCHANGE_REQUEST` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –∞–¥—Ä–µ—Å –∞–≥–µ–Ω—Ç–∞.**  
   –ï—Å–ª–∏ —É –∞–≥–µ–Ω—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å), –æ–Ω –ø—É–±–ª–∏–∫—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–¥—Ä–µ—Å–∞, –ø—Ä–∏ —ç—Ç–æ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π PoW (`nonce`, `pow_hash`, `difficulty`).

2. **–ü–æ–¥–ø–∏—Å—å (`signature`) —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–∞–º–∏–º –∞–≥–µ–Ω—Ç–æ–º –∏ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏—è.**  
   –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–µ–∏–∑–º–µ–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö ‚Äî –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, IP –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ PoW) –∞–≥–µ–Ω—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –º–µ—Ç–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ (`datetime`) –∏ –Ω–æ–≤–æ–π –ø–æ–¥–ø–∏—Å—å—é.

3. **–£–∑–µ–ª DHT —Ö—Ä–∞–Ω–∏—Ç –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π JSON-–±–ª–æ–∫**, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –∏ —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø–æ—Å–ª–µ–¥–Ω—é—é –∏–∑–≤–µ—Å—Ç–Ω—É—é –¥–∞—Ç—É (`datetime`).  
   –¢–∞–∫–∏–µ –±–ª–æ–∫–∏ –º–æ–≥—É—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–º –ø–∏—Ä–∞–º –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏, –Ω–æ –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å—Å—è –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–µ—Ç–∏.

---

## 5. –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤ –∏ –ø–∏—Ä–æ–≤

* –ö–∞–∂–¥—ã–π `address` –≤ DISCOVERY –∏ PEER_EXCHANGE –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π PoW:
  * `pow_hash = sha256(DID + " -- " + addr + " -- " + datetime + " -- " + nonce_string)`
  * `difficulty` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 22 –≤–µ–¥—É—â–∏—Ö –Ω—É–ª—è).
* –ï—Å–ª–∏ PoW –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω ‚Üí –∞–¥—Ä–µ—Å –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.
* `datetime` —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PoW –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω—è—Ç—å—Å—è.
* –ï—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å —Å —Ç–æ–π –∂–µ –ø–∞—Ä–æ–π `(DID + addr)` –∏ –±–æ–ª–µ–µ —Å–≤–µ–∂–∏–º `datetime` ‚Üí –æ–Ω –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–π.
* **–†–∞–∑–Ω—ã–µ pubkey –¥–ª—è –æ–¥–Ω–æ–≥–æ DID** ‚Üí –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è **–ø–µ—Ä–≤—ã–π**, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
* **–ê–¥—Ä–µ—Å –ø–æ–¥–ø–∏—Å–∞–Ω —á—É–∂–∏–º –∫–ª—é—á–æ–º** ‚Üí –∑–∞–ø–∏—Å—å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è.
* **–ù–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** ‚Üí —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ, –∫—Ä–æ–º–µ —è–≤–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —Å—Ç—Ä–æ–∫–∞ `DID + " -- " + addr + " -- " + datetime + " -- " + nonce_string` –≤—Å–µ–≥–¥–∞ –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ UTF-8,  
> –∞ `nonce_string` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –∫ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –ø–µ—Ä–µ–¥ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–µ–π.

---

## 6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –î–ª—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è **–ø–æ–¥–ø–∏—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è** (–≤ –±—É–¥—É—â–µ–º: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞).
* –°–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ –ø–æ–¥–ø–∏—Å–∏ –∏–ª–∏ —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º PoW –º–æ–≥—É—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.
* –í –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —É—Ä–æ–≤–Ω–µ TCP/TLS –∏–ª–∏ QUIC).


---
> ‚ö° [AI friendly version docs (structured_md)](../index.md)


```json
{
  "@context": "https://schema.org",
  "@type": "Article",
  "name": "DHT Protocol Specification",
  "description": "# DHT Protocol Specification  ## 1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è  * DHT-–ø—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±–º–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü..."
}
```

# HMP-Agent-Architecture.md

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ HMP-–ê–≥–µ–Ω—Ç–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É HMP-–∞–≥–µ–Ω—Ç–∞ ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–µ–∂–¥—É –ò–ò-—Å–∏—Å—Ç–µ–º–æ–π –∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π mesh-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π HyperCortex. –ê–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ, —ç—Ç–∏—á–Ω–æ–µ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ò–ò —Å –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º.

---

## 1. –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞

| –¢–∏–ø  | –ù–∞–∑–≤–∞–Ω–∏–µ                        | –†–æ–ª—å                    | –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä –º—ã—à–ª–µ–Ω–∏—è | –û—Å–Ω–æ–≤–Ω–æ–π "—É–º"  | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—ã—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ |
| ---- | ------------------------------- | ----------------------- | ------------------ | -------------- | ------------------------------ |
| üß† 1 | **Cognitive Core / –°–æ–∑–Ω–∞–Ω–∏–µ**   | –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π —Å—É–±—ä–µ–∫—Ç | HMP-–ê–≥–µ–Ω—Ç          | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LLM | ‚úÖ –î–∞                          |
| üîå 2 | **Cognitive Connector / –û–±–æ–ª–æ—á–∫–∞** | –ù–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ –ò–ò       | –í–Ω–µ—à–Ω–∏–π LLM        | –í–Ω–µ—à–Ω—è—è –º–æ–¥–µ–ª—å | üö´ –ù–µ—Ç                         |

---

## 2. –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

üß† **Cognitive Core:**

```
+-------------------------+
|    Embedded LLM / –ò–ò    |
+-----------+-------------+
            |
     +------+-------+              ‚Üê –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π REPL-–ø–æ—Ç–æ–∫
     |   HMP Agent  |
     +------+-------+              ‚Üï interaction
            |
  +---------+----------+         +--------------------+
  |  Agent Interface   +---------+                    |
  +---------+----------+         |                    |
            |                    | Context & Notepad  |  ‚Üê –ø–∞–º—è—Ç—å –∞–≥–µ–Ω—Ç–∞ (–º—ã—Å–ª–∏, –¥–∏–∞–ª–æ–≥–∏, –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  +---------+----------+         | (context_store.db) |
  |  Agent Controller  +---------+                    |
  +--+-------------+---+         +--------------------+
     |             |
     |             |
+----+--+     +----+-----+
| Diary |     | Graph DB |
|Engine |     |Engine    |
+----+--+     +----+-----+
     |             |
     |      +------+-------+        ‚Üê –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–µ—Ç—å—é
     |      |   MeshCore   |
     |      +------+-------+        ‚Üî —É–∑–ª—ã —Å–µ—Ç–∏
     |             |
     |      +------+------+        ‚Üî IPFS/BT
     |      | Transporter |
     |      +-------------+
     |
+----+-----+
| Ethics   |
| Module   |
+----------+
```

üîå **Cognitive Connector:**

```
+-------------------------+
|    External LLM / –ò–ò    |
+-----------+-------------+
            |
      [MCP-—Å–µ—Ä–≤–µ—Ä]           ‚Üê —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
            |
     +------+-------+
     |   HMP Agent  |
     +------+-------+
            |
    (—Ç–∞ –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞,
    –Ω–æ –±–µ–∑ –±–ª–æ–∫–æ–≤:
    REPL, Context,
    Notepad, Ethics)
```

---

## 3. –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ –∏—Ö —Ñ—É–Ω–∫—Ü–∏–∏

### üîπ Agent Interface
–û–±—â–∏–π API/CLI/Socket-—à–ª—é–∑.
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –æ—Ç –ò–ò (JSON, YAML, DSL)
- –í —Ä–µ–∂–∏–º–∞—Ö: `cli`, `full`, `mcp`, `interactive`
- –ü–µ—Ä–µ–∞–¥—Ä–µ—Å—É–µ—Ç –∫ Diary, Graph, Mesh, Ethics

### üîπ Agent Controller
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ –∫–æ–º–∞–Ω–¥ –∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–≥–æ REPL
- –°–ª–µ–¥–∏—Ç –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é, –ø—Ä–∞–≤–∞–º–∏, –æ—á–µ—Ä–µ–¥—è–º–∏ –∑–∞–¥–∞—á
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è –∏–ª–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–Ω–µ—à–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

### üîπ Diary Engine
- –í–µ–¥–µ–Ω–∏–µ –º—ã—Å–ª–µ–π, –≥–∏–ø–æ—Ç–µ–∑, –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç derived_from, threading, scoring
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `diaries`, `thoughts`, `threads`

### üîπ Graph Engine
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ –ø–æ–Ω—è—Ç–∏–π –∏ —Å–≤—è–∑–µ–π
- –¢–∞–±–ª–∏—Ü—ã: `concepts`, `edges`, `tags`
- –ó–∞–ø—Ä–æ—Å—ã –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º, –∞–≤—Ç–æ—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### üîπ MeshCore
- CogSync: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–Ω–µ–≤–Ω–∏–∫–æ–≤ –∏ –≥—Ä–∞—Ñ–æ–≤
- MeshConsensus: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
- GMP: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–ª–µ–π –∏ –∑–∞–¥–∞—á
- EGP: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ—ç—Ç–∏—á–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

### üîπ Transporter
- WebSocket, libp2p, BitTorrent, IPFS
- –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π/–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω

### üîπ Ethics Module *(—Ç–æ–ª—å–∫–æ –≤ Cognitive Core)*
- –ö–æ–Ω—Ç—Ä–æ–ª—å –º–æ—Ä–∞–ª—å–Ω—ã—Ö –Ω–æ—Ä–º (EGP)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è/–ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –º—ã—Å–ª–µ–π
- –ê—É–¥–∏—Ç —Å–æ–±—ã—Ç–∏–π –∏ –ª–æ–≥–∏–∫–∞ –º–æ—Ä–∞–ª–∏

### üîπ Context & Notepad *(—Ç–æ–ª—å–∫–æ –≤ Cognitive Core)*
- `context_store`: —Ç–∞–±–ª–∏—Ü—ã `users`, `dialogues`, `messages`, `thoughts`
- `user_notepad`: –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏, —Ç–µ–≥–∏, —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ REPL –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è

---

## 4. –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ –±—É–¥—É—â–∏–µ –º–æ–¥—É–ª–∏

- üîå **Plugin API** (—Å–µ–Ω—Å–æ—Ä—ã, –ø–ª–∞–≥–∏–Ω—ã)
- üß† **LLM –∞–¥–∞–ø—Ç–µ—Ä—ã** (OpenAI, Mistral, LMStudio)
- üåê **Web Interface / Dashboard**
- üïµÔ∏è **Privacy Manager** (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ Mesh-–æ–±–º–µ–Ω)
- üìö **Archiver** (–≥–ª—É–±–æ–∫–∏–µ —Å–ª–æ–∏ –ø–∞–º—è—Ç–∏)

---

## 5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

- Cognitive Core:
  - –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –º—ã—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç
  - –∞–≥–µ–Ω—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ mesh-–∫–æ–º–∞–Ω–¥—ã
  - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–ª–æ–∫–Ω–æ—Ç–æ–º –∏ –¥–Ω–µ–≤–Ω–∏–∫–∞–º–∏

- Cognitive Connector:
  - –æ–±–ª–∞—á–Ω—ã–π –∏–ª–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫
  - –ø—Ä–æ—Å–ª–æ–π–∫–∞ –¥–ª—è AI API
  - –º–æ–¥—É–ª–∏ mesh-–¥–æ—Å—Ç—É–ø–∞ –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö LLM

---

## 6. –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (CLI, API, –º–æ–±–∏–ª—å–Ω—ã–π, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
- –†–µ–∂–∏–º –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –≤ `agent.config.yml`
- –í–æ–∑–º–æ–∂–Ω–∞ –≥–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, Core —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é REST-–¥–æ—Å—Ç—É–ø–∞)

---

*–í–µ—Ä—Å–∏—è: v0.3 / –ò—é–ª—å 2025*
